---
title: 'ENSC650 lecture 03: Linear Regression'
author: Akihiko Mori
date: '2021-09-30'
slug: []
categories: []
tags:
  - R
---
# Correlation $\rho_{xy}$
statistical relationship between two variables
$-1 \le r_{xy} \le +1$.
$$
\begin{align}\rho_{X,Y} &= \operatorname{cor}(X,Y) \\
&= {\operatorname{cov}(X,Y) \over \sigma_X \sigma_Y} \\
&= {\operatorname{E}[(X-\mu_X)(Y-\mu_Y)] \over \sigma_X\sigma_Y}\\
&= \frac {\operatorname{E}(XY)-\operatorname{E}(X)\operatorname{E}(Y)}{ \sqrt{\operatorname{E}(X^2)-\operatorname{E}(X)^2}\cdot \sqrt{\operatorname{E}(Y^2)-\operatorname{E}(Y)^2}}
\end{align}$$
$$\begin{align}

X,Y \text{ independent} \quad & \Rightarrow \quad \rho_{X,Y} = 0 \quad (X,Y \text{ uncorrelated})\\
\rho_{X,Y} = 0 \quad (X,Y \text{ uncorrelated})\quad & \nRightarrow \quad X,Y \text{ independent}
\end{align}$$
```{r}
#by hand 
x <- c(25, 27, 29)
y <- c(5, 15, 9)
xdev <- x - mean(x)
ydev <- y - mean(y)
xdev_ydev <- xdev * ydev
sum_xdev_ydev <- sum(xdev_ydev)
cov_xy <- (1 / (3 - 1)) * sum_xdev_ydev
stnd.dev <- sd(x)*sd(y)
cov_xy/stnd.dev

# built-in
cor(x,y)
```

# Test of Correlation
a correlation test is used to test whether the correlation (denoted $\rho$) between 2 variables is significantly different from 0 or not in the population.

* $H_0: \rho = 0 $(meaning that there is no linear relationship between the two variables)\
* $H_a: \rho \neq 0$(meaning that there is a linear relationship between the two variables)

$$t = \rho\sqrt{\frac{N-2}{1-\rho^2}} \sim \text{t-distribution(N-2)}$$
d.f.= $N-2$

```{r}
r <- cor(x,y)
N <- length(x)
t = r*sqrt((N-2)/(1-r^2))
t
pt(t,df=N-2, lower.tail = FALSE)*2
cor.test(x,y)
```


# Autocorrelation
In time series data, assess whether a time series is dependent on its past.
$$\rho_{k} = \frac{\sum_{i=1}^{N-k}(X_{i} - \bar{X})(X_{i+k} - 
         \bar{X})} {\sum_{i=1}^{N}(X_{i} - \bar{X})^{2} }
$$
```{r}

```


# Correlation Matrix

```{r}

```

#Regression


```{r}

```


# Decomposion of Variance


# Significance test of Regression


```{r}

```

